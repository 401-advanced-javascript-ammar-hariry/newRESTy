(this["webpackJsonpclass-26-solution"]=this["webpackJsonpclass-26-solution"]||[]).push([[0],{26:function(e,t,a){e.exports=a(46)},43:function(e,t,a){},44:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){"use strict";a.r(t);var n=a(5),r=a(6),l=a(8),o=a(7),s=a(0),c=a.n(s),i=a(22),u=a.n(i),h=a(10),d=a(15),m=a.n(d),y=a(1),b=function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){return c.a.createElement("header",null,c.a.createElement("h1",null,"RESTy"),c.a.createElement("nav",null,c.a.createElement("ul",null,c.a.createElement("li",null,c.a.createElement(h.b,{to:"/"},"Home")),c.a.createElement("li",null,c.a.createElement(h.c,{to:"/history"},"History")))))}}]),a}(c.a.Component),p=function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){return c.a.createElement("footer",null,"\xa9 2018 Code Fellows")}}]),a}(c.a.Component),f=a(18),g=a.n(f),E=a(24),v=a(12),O=a(25),k=a.n(O),C=(a(43),function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).handleSubmit=function(){var e=Object(E.a)(g.a.mark((function e(t){var a,n,l,o,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),r.props.toggleLoading(),!r.state.url||!r.state.method){e.next=36;break}if(a="",n="",l="",o={url:r.state.url,method:r.state.method,body:r.state.body.data},l=r.state.body.data,"post"!==r.state.method||!r.state.body.data){e.next=14;break}return e.next=11,r.postHandler();case 11:r.saveLocalStorage(),e.next=32;break;case 14:if("put"!==r.state.method||!r.state.body.data){e.next=20;break}return e.next=17,r.postHandler();case 17:r.saveLocalStorage(),e.next=32;break;case 20:if("delete"!==r.state.method){e.next=27;break}return s={method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({body:l})},e.next=24,fetch(r.state.url,s);case 24:r.saveLocalStorage(),e.next=32;break;case 27:return a=r.state.url,n=r.state.method,k.a.get(a).then((function(e){var t=e.body,a=e.headers;r.props.handler(t,a)})),e.next=32,r.saveLocalStorage();case 32:r.setState({request:o,url:a,method:n,body:l}),r.props.toggleLoading(),e.next=37;break;case 36:alert("missing information");case 37:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.handleChangeURL=function(e){var t=e.target.value;r.setState({url:t})},r.handleChangeMethod=function(e){var t=e.target.id;r.setState({method:t})},r.bodyHandel=function(e){var t=JSON.parse(e.target.value);r.setState({body:{data:t}})},r.handleSubmit=r.handleSubmit.bind(Object(v.a)(r)),r.state={url:"",method:"",body:"",request:{}},r.hestoryArray=[],r}return Object(r.a)(a,[{key:"saveLocalStorage",value:function(){var e=JSON.parse(localStorage.getItem("query"));e&&(this.hestoryArray=e);var t={method:this.state.method,url:this.state.url,body:this.state.body},a=0;this.hestoryArray.forEach((function(e){e.method===t.method&&e.url===t.url&&(a=1)})),0===a&&(this.hestoryArray.push(t),localStorage.setItem("query",JSON.stringify(this.hestoryArray)))}},{key:"postHandler",value:function(){var e=this,t={method:this.state.method.toUpperCase(),cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(this.state.body.data)};fetch(this.state.url,t).then((function(t){return e.setState(e.state.body.data)}))}},{key:"render",value:function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement("form",{onSubmit:this.handleSubmit},c.a.createElement("label",null,c.a.createElement("span",null,"URL: "),c.a.createElement("input",{name:"url",type:"text",onChange:this.handleChangeURL}),c.a.createElement("button",{type:"submit"},this.props.title)),c.a.createElement("label",{className:"methods"},c.a.createElement("span",{className:"get"===this.state.method?"active":"",id:"get",onClick:this.handleChangeMethod},"GET"),c.a.createElement("span",{className:"post"===this.state.method?"active":"",id:"post",onClick:this.handleChangeMethod},"POST"),c.a.createElement("span",{className:"put"===this.state.method?"active":"",id:"put",onClick:this.handleChangeMethod},"PUT"),c.a.createElement("span",{className:"delete"===this.state.method?"active":"",id:"delete",onClick:this.handleChangeMethod},"DELETE")),c.a.createElement("textarea",{name:"body",rows:"7",cols:"50",onChange:this.bodyHandel})),c.a.createElement("section",{className:"results"},c.a.createElement("span",{className:"method"},this.state.request.method),c.a.createElement("span",{className:"url"},this.state.request.url)))}}]),a}(c.a.Component)),S=(a(44),function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).handlerClick=r.handlerClick.bind(Object(v.a)(r)),r}return Object(r.a)(a,[{key:"handlerClick",value:function(e){var t=e.target.value.split("  ");if(t[5]){var a=t[1],n=t[3],r=t[5];this.props.handel(a,n,r)}else{var l=t[1],o=t[3];this.props.handel(l,o)}}},{key:"getDataLocal",value:function(){var e=this,t=JSON.parse(localStorage.getItem("query"));if(t)return t.map((function(t,a){if(t.body){var n=JSON.stringify(t.body);return c.a.createElement("input",{type:"text",readOnly:"readonly",onClick:e.handlerClick,key:a,value:"method:  ".concat(t.method," |  url:  ").concat(t.url," | body:  ").concat(n)})}return c.a.createElement("input",{type:"text",readOnly:"readonly",onClick:e.handlerClick,key:a,value:"method:  ".concat(t.method," | url:  ").concat(t.url)})}))}},{key:"render",value:function(){return c.a.createElement("div",{className:"history-links"},c.a.createElement("ul",null,c.a.createElement(h.b,{to:"/"},this.getDataLocal())))}}]),a}(c.a.Component)),j=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e?t:null},x=function(e){return c.a.Children.map(e.children,(function(t){return c.a.cloneElement(t,{condition:e.condition})}))},N=function(e){return j(e.condition,e.children)},L=function(e){return j(!e.condition,e.children)},H=(a(45),function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).toggleLoading=function(){r.setState({loading:!r.state.loading}),console.log("this.state.loading: ",r.state.loading)},r.handleForm=function(e,t){r.setState({results:e,header:t})},r.handelHistory=function(e,t,a){var n=JSON.stringify(a);r.setState({method:e,url:t,body:{bodyData:n}})},r.state={loading:!1,header:[],results:[]},r}return Object(r.a)(a,[{key:"render",value:function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(b,null),c.a.createElement(y.a,{path:"/",exact:!0},c.a.createElement(C,{title:"button text",toggleLoading:this.toggleLoading,handler:this.handleForm,method:this.state.method,url:this.state.url,body:this.state.body}),c.a.createElement(x,{condition:!this.state.loading},c.a.createElement(N,null,c.a.createElement("h2",null,"Headers:"),c.a.createElement(m.a,{src:this.state.header}),c.a.createElement("h2",null,"Results:"),c.a.createElement(m.a,{src:this.state.results})),c.a.createElement(L,null,c.a.createElement("div",{className:"loading-".concat(this.state.loading)})))),c.a.createElement(y.a,{path:"/history"},c.a.createElement(S,{handel:this.handelHistory})),c.a.createElement(p,null))}}]),a}(c.a.Component)),J=function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){return c.a.createElement(h.a,null,c.a.createElement(H,null),";")}}]),a}(c.a.Component),T=document.getElementById("root");u.a.render(c.a.createElement(J,null),T)}},[[26,1,2]]]);
//# sourceMappingURL=main.2be9ae04.chunk.js.map